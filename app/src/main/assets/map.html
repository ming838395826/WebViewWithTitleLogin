<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="viewport"
	content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<title>所有POI的查询-地址解析</title>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.2"></script>
<script src="https://cdn.bootcss.com/vConsole/3.2.0/vconsole.min.js"></script>
</head>
<body>
	<div onclick="getNearBuilding()">获取周围建筑</div>
	<br/>
	<div onclick="getLocalSearch()">模糊搜索出湛江供电局</div>
</body>
</html>
<script type="text/javascript">
	var vConsole = new VConsole();

	function searchAddressResult(result){//接受客户端传过来的图片url
				// $(".pic").attr("src",imgUrl)
				alert("拍照获取的结果："+result);
			}

	function getNearBuilding(){

		<!--native.searchBuildingByTitle("湛江");-->
		native.setTitleBar(false);
		<!--var geolocation = new BMap.Geolocation();-->
		<!--geolocation.getCurrentPosition(function(r) {-->
			<!--if (this.getStatus() == BMAP_STATUS_SUCCESS) {-->
				<!--var lng = r.point.lng;-->
				<!--var lat = r.point.lat;-->
				<!--alert('您的位置：' + r.point.lng + ',' + r.point.lat);-->

				<!--var mPoint = new BMap.Point(lng, lat);-->
				<!--var mOption = {-->
					<!--poiRadius : 500, //半径为1000米内的POI,默认100米-->
					<!--numPois : 20-->
				<!--//列举出50个POI,默认10个-->
				<!--}-->

				<!--var myGeo = new BMap.Geocoder(); //创建地址解析实例-->
				<!--myGeo-->
				<!--.getLocation(-->
						<!--mPoint,-->
						<!--function mCallback(rs) {-->
							<!--var allPois = rs.surroundingPois; //获取全部POI（该点半径为100米内有6个POI点）-->
							<!--for (i = 0; i < allPois.length; ++i) {-->
								<!--console.log(allPois[i].title);-->
							<!--}-->
						<!--}, mOption);-->

			<!--} else {-->
				<!--alert('failed' + this.getStatus());-->
			<!--}-->
		<!--}, {-->
			<!--enableHighAccuracy : true-->
		<!--})-->
	}

	function getLocalSearch(){
		var address = document.getElementById('inputAddress');
		var ls = new BMap.LocalSearch('湛江');
		ls.search('供电局');
		ls.setSearchCompleteCallback(function(rs){
			if(ls.getStatus() == BMAP_STATUS_SUCCESS){
				console.log(rs._pois);
			}
		})
	}

</script>